<!-- Login form -->
<form id="login-form">
  <label for="username">Username:</label>
  <input type="text" id="username" name="username"><br><br>
  <label for="password">Password:</label>
  <input type="password" id="password" name="password"><br><br>
  <input type="submit" value="Login">
</form>

<!-- Form to add new events (hidden by default) -->
<form id="add-event-form" style="display: none;">
  <!-- Form fields to add events -->
  <label for="event-name">Event Name:</label>
  <input type="text" id="event-name" name="event-name"><br><br>
  <label for="event-date">Event Date:</label>
  <input type="date" id="event-date" name="event-date"><br><br>
  <label for="event-location">Event Location:</label>
  <input type="text" id="event-location" name="event-location"><br><br>
  <input type="submit" value="Add Event">
</form>

<script>
  // Get the username and password from the private repository
  const username = fetch('https://api.github.com/repos/your-private-repo/contents/username.txt')
    .then(response => response.json())
    .then(data => data.content);
  const password = fetch('https://api.github.com/repos/your-private-repo/contents/password.txt')
    .then(response => response.json())
    .then(data => data.content);

  // Check if the entered username and password match the username and password from the private repository
  document.getElementById('login-form').addEventListener('submit', (e) => {
    // Prevent the default form submission behavior
    e.preventDefault();

    // Get the entered username and password
    const enteredUsername = document.getElementById('username').value;
    const enteredPassword = document.getElementById('password').value;

    // Check if the entered username and password match the username and password from the private repository
    Promise.all([username, password]).then(([username, password]) => {
      if (enteredUsername === username && enteredPassword === password) {
        // Show the add-event form
        document.getElementById('add-event-form').style.display = 'block';
        document.getElementById('login-form').style.display = 'none';
      } else {
        // Display an error message
        alert('Incorrect username or password!');
      }
    });
  });

  // Handle the form submission
  document.getElementById('add-event-form').addEventListener('submit', (e) => {
    // Prevent the default form submission behavior
    e.preventDefault();

    // Get the form data
    const eventName = document.getElementById('event-name').value;
    const eventDate = document.getElementById('event-date').value;
    const eventLocation = document.getElementById('event-location').value;

    // Create a new event object
    const event = {
      name: eventName,
      date: eventDate,
      location: eventLocation
    };

    // Get the repository owner and name
    const repoOwner = 'your-username';
    const repoName = 'your-repo-name';

    // Get the file path and name
    const filePath = 'events.json';
    const fileName = 'events';

    // Get the GitHub API token
    const token = 'your-github-api-token';

    // Create a new file or update an existing file in the repository
    fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents/${filePath}`, {
      method: 'PUT',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        message: `Add new event: ${eventName}`,
        content: JSON.stringify([event])
      })
    })
      .then(response => response.json())
      .then(data => {
        console.log(data);
      })
      .catch(error => {
        console.error(error);
      });
  });
</script>